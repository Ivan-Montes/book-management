
DROP TABLE IF EXISTS BOOKS_BOOKSHOPS CASCADE;
DROP TABLE IF EXISTS BOOKS_AUTHORS CASCADE;
DROP TABLE IF EXISTS BOOKS CASCADE;
DROP TABLE IF EXISTS BOOKSHOPS CASCADE;
DROP TABLE IF EXISTS AUTHORS CASCADE;
DROP TABLE IF EXISTS PUBLISHERS CASCADE;
DROP TABLE IF EXISTS GENRES CASCADE;


CREATE TABLE PUBLISHERS (
    publisher_id UUID PRIMARY KEY,
    publisher_name VARCHAR(255) NOT NULL,
    creation_timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    update_timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
CREATE TABLE AUTHORS (
    author_id UUID PRIMARY KEY,
    author_name VARCHAR(100) NOT NULL,
    author_surname VARCHAR(100) NOT NULL,
    creation_timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    update_timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
CREATE TABLE GENRES (
    genre_id UUID PRIMARY KEY,
    genre_name VARCHAR(100) NOT NULL,
    genre_description VARCHAR(255),
    creation_timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    update_timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
CREATE TABLE BOOKSHOPS (
    bookshop_id UUID PRIMARY KEY,
    bookshop_name VARCHAR(100) NOT NULL,
    creation_timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    update_timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
CREATE TABLE BOOKS (
    book_id UUID PRIMARY KEY,
    book_isbn VARCHAR(13) NOT NULL UNIQUE,
    book_title VARCHAR(100) NOT NULL,
    genre_id UUID NOT NULL REFERENCES GENRES(genre_id),
    publisher_id UUID NOT NULL REFERENCES PUBLISHERS(publisher_id),
    creation_timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    update_timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
CREATE TABLE BOOKS_AUTHORS (
    book_id UUID NOT NULL REFERENCES BOOKS(book_id) ON DELETE CASCADE,
    author_id UUID NOT NULL REFERENCES AUTHORS(author_id) ON DELETE CASCADE,
    PRIMARY KEY (book_id, author_id)
);
CREATE TABLE BOOKS_BOOKSHOPS (
    book_book_id UUID NOT NULL REFERENCES BOOKS(book_id) ON DELETE CASCADE,
    bookshop_bookshop_id UUID NOT NULL REFERENCES BOOKSHOPS(bookshop_id) ON DELETE CASCADE,
    price NUMERIC(10,2) NOT NULL,
    units INTEGER NOT NULL,
    PRIMARY KEY (book_book_id, bookshop_bookshop_id)
);


INSERT INTO PUBLISHERS (publisher_id, creation_timestamp, update_timestamp, publisher_name) VALUES
('1cc70000-0000-0000-0000-000000000001', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Infinity Publications'),
('1cc70000-0000-0000-0000-000000000002', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Live and let live Treatise'),
('1cc70000-0000-0000-0000-000000000003', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'I want to believe Publications'),
('1cc70000-0000-0000-0000-000000000004', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Legendary Editions'),
('1cc70000-0000-0000-0000-000000000005', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Mind and Muscle Reviews'),
('1cc70000-0000-0000-0000-000000000006', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Sunny Almanacs'),
('1cc70000-0000-0000-0000-000000000007', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Wanderlust Press'),
('1cc70000-0000-0000-0000-000000000008', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Echoes & Ink Publishing'),
('1cc70000-0000-0000-0000-000000000009', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Nebula Scrolls'),
('1cc70000-0000-0000-0000-00000000000a', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'The Curious Quill'),
('1cc70000-0000-0000-0000-00000000000b', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Silent Compass Editions'),
('1cc70000-0000-0000-0000-00000000000c', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Storm & Sage Publishing'),
('1cc70000-0000-0000-0000-00000000000d', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Timeless Realms Media'),
('1cc70000-0000-0000-0000-00000000000e', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Crimson Thought Publishers'),
('1cc70000-0000-0000-0000-00000000000f', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Blue Lantern Books'),
('1cc70000-0000-0000-0000-000000000010', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'Obsidian Feather House');

INSERT INTO AUTHORS (author_id, author_name, author_surname, creation_timestamp, update_timestamp) VALUES
('1cc70000-0000-0000-0000-000000001001', 'Isaac', 'Newton', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000001002', 'Koyoharu ', 'Gotouge', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000001003', 'Emilie', 'Bronte', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000001004', 'Jane', 'Austen', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000001005', 'Richard', 'Helm', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000001006', 'Erich', 'Gamma', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000001007', 'Ralph', 'Johnson', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000001008', 'Jules', 'Verne', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000001009', 'Herbert George', 'Wells', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000100a', 'Mary', 'Shelley', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

INSERT INTO GENRES (genre_id, genre_name, genre_description, creation_timestamp, update_timestamp) VALUES
('1cc70000-0000-0000-0000-000000002001', 'Drama', 'Unfortunate events in life', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000002002', 'Science Fiction', 'Fantastic literature and horror storytelling', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000002003', 'Manga', 'Japanese-origin comics and graphic novels', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000002004', 'Self-help', 'Personal development and emotional acceptance', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000002005', 'Action', 'Exciting scenes of combat and adventure', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000002006', 'Comedy', 'Humorous stories and comic situations', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000002007', 'Futurism', 'Exploration of possible futures and advanced technology', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000002008', 'Romance', 'Love stories and personal relationships', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000002009', 'Horror', 'Frightening scenes and supernatural elements', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000200a', 'Fantasy', 'Magical worlds, creatures, and epic adventures', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000200b', 'Animation', 'Movies drawn or computer-generated', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000200c', 'Documentary', 'Exploration of real events and historical facts', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000200d', 'Educational', 'Textbooks and learning materials', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

INSERT INTO BOOKSHOPS (bookshop_id, bookshop_name, creation_timestamp, update_timestamp) VALUES
('1cc70000-0000-0000-0000-000000003001', 'The Cornershop', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000003002', 'Books, books, books', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000003003', 'Fly you fools Books', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000003004', 'Big Little Shop', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000003005', 'Dark Corner', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000003006', 'The Wandering Page', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000003007', 'Once Upon a Shelf', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000003008', 'The Inkwell Nook', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000003009', 'Chapter & Verse', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000300a', 'Whispers Between Pages', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000300b', 'Bard & Bookmark', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000300c', 'Paperback Jungle', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000300d', 'Plot Twist Emporium', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000300e', 'The Booksmithery', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-00000000300f', 'Margins & Metaphors', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

INSERT INTO BOOKS (book_id, book_isbn, book_title, genre_id, publisher_id, creation_timestamp, update_timestamp) VALUES
('1cc70000-0000-0000-0000-000000004001', '1231231231231', 'Principia Mathematica', '1cc70000-0000-0000-0000-00000000200d', '1cc70000-0000-0000-0000-000000000003', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000004002', '1231231231232', 'Kimetsu No Yaiba Vol I', '1cc70000-0000-0000-0000-000000002003', '1cc70000-0000-0000-0000-000000000002', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000004003', '1231231231233', 'Design patterns', '1cc70000-0000-0000-0000-000000002002', '1cc70000-0000-0000-0000-000000000001', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000004004', '1231231231234', 'Wuthering Heights', '1cc70000-0000-0000-0000-000000002001', '1cc70000-0000-0000-0000-000000000004', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000004005', '1231231231235', 'Pride and Prejudice', '1cc70000-0000-0000-0000-000000002008', '1cc70000-0000-0000-0000-000000000006', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000004006', '1231231231236', 'Frankenstein', '1cc70000-0000-0000-0000-000000002001', '1cc70000-0000-0000-0000-000000000009', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000004007', '1231231231237', 'Journey to the Center of the Earth', '1cc70000-0000-0000-0000-00000000200a', '1cc70000-0000-0000-0000-000000000004', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
('1cc70000-0000-0000-0000-000000004008', '1231231231238', 'The Time Machine', '1cc70000-0000-0000-0000-000000002002', '1cc70000-0000-0000-0000-000000000005', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

INSERT INTO BOOKS_AUTHORS (book_id, author_id) VALUES
('1cc70000-0000-0000-0000-000000004001', '1cc70000-0000-0000-0000-000000001001'),
('1cc70000-0000-0000-0000-000000004002', '1cc70000-0000-0000-0000-000000001002'),
('1cc70000-0000-0000-0000-000000004003', '1cc70000-0000-0000-0000-000000001005'),
('1cc70000-0000-0000-0000-000000004003', '1cc70000-0000-0000-0000-000000001006'),
('1cc70000-0000-0000-0000-000000004003', '1cc70000-0000-0000-0000-000000001007'),
('1cc70000-0000-0000-0000-000000004004', '1cc70000-0000-0000-0000-000000001003'),
('1cc70000-0000-0000-0000-000000004005', '1cc70000-0000-0000-0000-000000001004'),
('1cc70000-0000-0000-0000-000000004006', '1cc70000-0000-0000-0000-00000000100a'),
('1cc70000-0000-0000-0000-000000004007', '1cc70000-0000-0000-0000-000000001008'),
('1cc70000-0000-0000-0000-000000004008', '1cc70000-0000-0000-0000-000000001009');

INSERT INTO BOOKS_BOOKSHOPS (book_book_id, bookshop_bookshop_id, price, units)
VALUES('1cc70000-0000-0000-0000-000000004001','1cc70000-0000-0000-0000-000000003003',13,25),
('1cc70000-0000-0000-0000-000000004002','1cc70000-0000-0000-0000-000000003002',9.99,10),
('1cc70000-0000-0000-0000-000000004003','1cc70000-0000-0000-0000-000000003001',17.5,5);
